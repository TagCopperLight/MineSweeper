%%% Header and Footer %%%
\usepackage{fancyhdr} % Required for customizing headers and footers.
\usepackage[bottom, hang]{footmisc} % Force footnotes to the bottom.
\pagestyle{fancy} \fancyhf{} % Clear default style.
\renewcommand{\headrulewidth}{.3pt}
\setlength{\footnotemargin}{6pt} % Footnote space.

\renewcommand{\chaptermark}[1]{\markboth{\textit{\thechapter. #1}}{}}
\renewcommand{\sectionmark}[1]{\markright{\textit{\thesection. #1}}}

\fancyhead[OLH]{
    \ifnum\value{section}=0\leftmark
    \else\rightmark
    \fi
\vspace{3pt}} % Section name... if not empty!

\fancyhead[ERH]{\leftmark\vspace{3pt}} % Chapter name.
\fancyhead[ORH,ELH]{\thepage\vspace{3pt}} % Page numbering.

% Place the page numbering on bottom when the page style is empty, i.e., when a new chapter starts.
\fancypagestyle{plain}{%
  \fancyhf{}%
  \renewcommand{\headrulewidth}{0pt}%
  \fancyfoot[ORF,ELF]{\thepage\vspace{3pt}}%
}